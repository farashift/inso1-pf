{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/app/login/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [name, setName] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [isRegistering, setIsRegistering] = useState(false)\n  const router = useRouter()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(\"\")\n    setIsLoading(true)\n\n    try {\n      if (isRegistering) {\n        // Register\n        const response = await fetch(\"/api/auth/register\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ email, password, name }),\n        })\n\n        const data = await response.json()\n\n        if (!response.ok) {\n          setError(data.message || \"Error al registrar\")\n          return\n        }\n\n        // Success: switch to login\n        setIsRegistering(false)\n        setName(\"\")\n        setError(\"Registro exitoso. Ahora puedes iniciar sesión.\")\n      } else {\n        // Login\n        const response = await fetch(\"/api/auth/login\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ email, password }),\n        })\n\n        const data = await response.json()\n\n        if (!response.ok) {\n          setError(data.message || \"Error al iniciar sesión\")\n          return\n        }\n\n        // Store auth token in localStorage\n        localStorage.setItem(\"authToken\", data.token)\n        localStorage.setItem(\"adminName\", data.name)\n\n        // Redirect to dashboard\n        router.push(\"/dashboard\")\n      }\n    } catch (err) {\n      setError(\"Error de conexión. Intenta de nuevo.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#f5ede0] flex flex-col\">\n      {/* Header */}\n      <header className=\"bg-[#3d3330] text-white py-4 px-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"text-2xl\">☕</div>\n          <h1 className=\"text-lg font-bold tracking-wide\">CAFETERÍA FONZI - SISTEMA WEB</h1>\n        </div>\n      </header>\n\n      {/* Login Content */}\n      <main className=\"flex-1 flex items-center justify-center px-4 py-12\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-white rounded-lg p-8 shadow-lg\">\n            <h2 className=\"text-3xl font-bold text-center text-[#3d3330] mb-8\">\n              {isRegistering ? \"Registrar Administrador\" : \"Iniciar Sesión\"}\n            </h2>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Name Field - Only for registration */}\n              {isRegistering && (\n                <div>\n                  <label htmlFor=\"name\" className=\"block text-sm font-medium text-[#3d3330] mb-2\">\n                    Nombre\n                  </label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    placeholder=\"Nombre completo\"\n                    className=\"w-full px-4 py-2 border-2 border-[#d4a574] rounded bg-[#fef9f3] text-[#3d3330] placeholder-[#b5a494] focus:outline-none focus:border-[#d97706]\"\n                    required\n                  />\n                </div>\n              )}\n\n              {/* Email Field */}\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-[#3d3330] mb-2\">\n                  Usuario\n                </label>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"nombre.apellido\"\n                  className=\"w-full px-4 py-2 border-2 border-[#d4a574] rounded bg-[#fef9f3] text-[#3d3330] placeholder-[#b5a494] focus:outline-none focus:border-[#d97706]\"\n                  required\n                />\n              </div>\n\n              {/* Password Field */}\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-[#3d3330] mb-2\">\n                  Contraseña\n                </label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"••••••••\"\n                  className=\"w-full px-4 py-2 border-2 border-[#d4a574] rounded bg-[#fef9f3] text-[#3d3330] placeholder-[#b5a494] focus:outline-none focus:border-[#d97706]\"\n                  required\n                />\n              </div>\n\n              {/* Error Message */}\n              {error && <div className=\"p-3 bg-red-100 text-red-700 rounded text-sm\">{error}</div>}\n\n              {/* Submit Button */}\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"w-full bg-[#d97706] hover:bg-[#b94f0f] text-white font-bold py-2 px-4 rounded transition-colors disabled:opacity-50\"\n              >\n                {isLoading ? (isRegistering ? \"Registrando...\" : \"Iniciando...\") : (isRegistering ? \"REGISTRAR\" : \"INICIAR SESIÓN\")}\n              </button>\n            </form>\n\n            {/* Toggle between login and register */}\n            <div className=\"text-center mt-6\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsRegistering(!isRegistering)\n                  setError(\"\")\n                  setName(\"\")\n                }}\n                className=\"text-[#d97706] hover:text-[#b94f0f] text-sm underline\"\n              >{/* \n                {isRegistering ? \"¿Ya tienes cuenta? Inicia sesión\" : \"¿No tienes cuenta? Regístrate\"}\n                */}\n              </button>\n            </div>\n\n            {/* Help Text */}\n            <p className=\"text-center text-[#8b6f47] text-sm mt-6\">¿Olvideste tu contraseña?</p>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}