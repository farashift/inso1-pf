{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\nimport { PrismaPg } from \"@prisma/adapter-pg\"\nimport { Pool } from \"pg\"\n\nconst connectionString = process.env.DATABASE_URL!\n\nconst pool = new Pool({ connectionString })\nconst adapter = new PrismaPg(pool)\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    adapter,\n    log: [\"error\"],\n  })\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;AAEjD,MAAM,OAAO,IAAI,4GAAI,CAAC;IAAE;AAAiB;AACzC,MAAM,UAAU,IAAI,yKAAQ,CAAC;AAE7B,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf;IACA,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/lib/auth.ts"],"sourcesContent":["import { hash, compare } from \"bcryptjs\"\n\n// For development: simple hash validation\n// In production, use a proper authentication library\nexport async function hashPassword(password: string): Promise<string> {\n  return await hash(password, 10)\n}\n\nexport async function verifyPassword(password: string, hashedPassword: string): Promise<boolean> {\n  return await compare(password, hashedPassword)\n}\n\n// Helper to validate admin credentials\nexport function getAdminCredentials() {\n  return {\n    email: \"admin@fonzi.com\",\n    password: \"admin12345\",\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAIO,eAAe,aAAa,QAAgB;IACjD,OAAO,MAAM,IAAA,2IAAI,EAAC,UAAU;AAC9B;AAEO,eAAe,eAAe,QAAgB,EAAE,cAAsB;IAC3E,OAAO,MAAM,IAAA,8IAAO,EAAC,UAAU;AACjC;AAGO,SAAS;IACd,OAAO;QACL,OAAO;QACP,UAAU;IACZ;AACF"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/app/api/auth/register/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/db\"\r\nimport { hashPassword } from \"@/lib/auth\"\r\nimport { type NextRequest, NextResponse } from \"next/server\"\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { email, password, name } = await request.json()\r\n\r\n    if (!email || !password || !name) {\r\n      return NextResponse.json({ message: \"Email, contraseña y nombre son requeridos\" }, { status: 400 })\r\n    }\r\n\r\n    // Check if admin already exists\r\n    const existingAdmin = await prisma.admin.findUnique({\r\n      where: { email },\r\n    })\r\n\r\n    if (existingAdmin) {\r\n      return NextResponse.json({ message: \"El email ya está registrado\" }, { status: 409 })\r\n    }\r\n\r\n    // Hash password\r\n    const hashedPassword = await hashPassword(password)\r\n\r\n    // Create new admin\r\n    const newAdmin = await prisma.admin.create({\r\n      data: {\r\n        email,\r\n        password: hashedPassword,\r\n        name,\r\n      },\r\n    })\r\n\r\n    // Return success (without password)\r\n    return NextResponse.json({\r\n      message: \"Administrador registrado exitosamente\",\r\n      admin: {\r\n        id: newAdmin.id,\r\n        email: newAdmin.email,\r\n        name: newAdmin.name,\r\n      },\r\n    })\r\n  } catch (error) {\r\n    console.error(\"Register error:\", error)\r\n    return NextResponse.json({ message: \"Error interno del servidor\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM;YAChC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAA4C,GAAG;gBAAE,QAAQ;YAAI;QACnG;QAEA,gCAAgC;QAChC,MAAM,gBAAgB,MAAM,qHAAM,CAAC,KAAK,CAAC,UAAU,CAAC;YAClD,OAAO;gBAAE;YAAM;QACjB;QAEA,IAAI,eAAe;YACjB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAA8B,GAAG;gBAAE,QAAQ;YAAI;QACrF;QAEA,gBAAgB;QAChB,MAAM,iBAAiB,MAAM,IAAA,6HAAY,EAAC;QAE1C,mBAAmB;QACnB,MAAM,WAAW,MAAM,qHAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YACzC,MAAM;gBACJ;gBACA,UAAU;gBACV;YACF;QACF;QAEA,oCAAoC;QACpC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;gBACL,IAAI,SAAS,EAAE;gBACf,OAAO,SAAS,KAAK;gBACrB,MAAM,SAAS,IAAI;YACrB;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA6B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACF"}}]
}