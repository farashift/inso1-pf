{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\nimport { PrismaPg } from \"@prisma/adapter-pg\"\nimport { Pool } from \"pg\"\n\nconst connectionString = process.env.DATABASE_URL!\n\nconst pool = new Pool({ connectionString })\nconst adapter = new PrismaPg(pool)\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    adapter,\n    log: [\"error\"],\n  })\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;AAEjD,MAAM,OAAO,IAAI,4GAAI,CAAC;IAAE;AAAiB;AACzC,MAAM,UAAU,IAAI,yKAAQ,CAAC;AAE7B,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf;IACA,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/app/api/orders/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/db\"\nimport { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url)\n    const statusParam = searchParams.get(\"status\")\n\n    const where: any = {}\n    if (statusParam) {\n      const statuses = statusParam.split(\",\")\n      where.status = { in: statuses }\n    }\n\n    const orders = await prisma.order.findMany({\n      where,\n      include: { items: true },\n      orderBy: { createdAt: \"desc\" },\n    })\n\n    return NextResponse.json(orders)\n  } catch (error) {\n    console.error(\"Error fetching orders:\", error)\n    return NextResponse.json({ error: \"Error fetching orders\" }, { status: 500 })\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { tableNumber, items, totalPrice, notes } = await request.json()\n\n    const orderNumber = `#${Date.now()}`\n\n    const order = await prisma.order.create({\n      data: {\n        orderNumber,\n        tableNumber,\n        status: \"pending\",\n        totalPrice,\n        items: {\n          create: items.map((item: any) => ({\n            productName: item.productName,\n            category: item.category,\n            price: item.price,\n            quantity: item.quantity,\n          })),\n        },\n      },\n      include: { items: true },\n    })\n\n    return NextResponse.json(order)\n  } catch (error) {\n    console.error(\"Error creating order:\", error)\n    return NextResponse.json({ error: \"Error creating order\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,cAAc,aAAa,GAAG,CAAC;QAErC,MAAM,QAAa,CAAC;QACpB,IAAI,aAAa;YACf,MAAM,WAAW,YAAY,KAAK,CAAC;YACnC,MAAM,MAAM,GAAG;gBAAE,IAAI;YAAS;QAChC;QAEA,MAAM,SAAS,MAAM,qHAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;YACzC;YACA,SAAS;gBAAE,OAAO;YAAK;YACvB,SAAS;gBAAE,WAAW;YAAO;QAC/B;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpE,MAAM,cAAc,CAAC,CAAC,EAAE,KAAK,GAAG,IAAI;QAEpC,MAAM,QAAQ,MAAM,qHAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YACtC,MAAM;gBACJ;gBACA;gBACA,QAAQ;gBACR;gBACA,OAAO;oBACL,QAAQ,MAAM,GAAG,CAAC,CAAC,OAAc,CAAC;4BAChC,aAAa,KAAK,WAAW;4BAC7B,UAAU,KAAK,QAAQ;4BACvB,OAAO,KAAK,KAAK;4BACjB,UAAU,KAAK,QAAQ;wBACzB,CAAC;gBACH;YACF;YACA,SAAS;gBAAE,OAAO;YAAK;QACzB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF"}}]
}