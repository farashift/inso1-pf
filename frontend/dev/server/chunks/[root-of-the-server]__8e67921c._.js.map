{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\nimport { PrismaPg } from \"@prisma/adapter-pg\"\nimport { Pool } from \"pg\"\n\nconst connectionString = process.env.DATABASE_URL!\n\nconst pool = new Pool({ connectionString })\nconst adapter = new PrismaPg(pool)\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    adapter,\n    log: [\"error\"],\n  })\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;AAEjD,MAAM,OAAO,IAAI,4GAAI,CAAC;IAAE;AAAiB;AACzC,MAAM,UAAU,IAAI,yKAAQ,CAAC;AAE7B,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf;IACA,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/lib/auth.ts"],"sourcesContent":["import { hash, compare } from \"bcryptjs\"\n\n// For development: simple hash validation\n// In production, use a proper authentication library\nexport async function hashPassword(password: string): Promise<string> {\n  return await hash(password, 10)\n}\n\nexport async function verifyPassword(password: string, hashedPassword: string): Promise<boolean> {\n  return await compare(password, hashedPassword)\n}\n\n// Helper to validate admin credentials\nexport function getAdminCredentials() {\n  return {\n    email: \"admin@fonzi.com\",\n    password: \"admin12345\",\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAIO,eAAe,aAAa,QAAgB;IACjD,OAAO,MAAM,IAAA,2IAAI,EAAC,UAAU;AAC9B;AAEO,eAAe,eAAe,QAAgB,EAAE,cAAsB;IAC3E,OAAO,MAAM,IAAA,8IAAO,EAAC,UAAU;AACjC;AAGO,SAAS;IACd,OAAO;QACL,OAAO;QACP,UAAU;IACZ;AACF"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Equipo/Downloads/cafeteria-fonzi-web-app/app/api/auth/login/route.ts"],"sourcesContent":["import { prisma } from \"@/lib/db\"\nimport { verifyPassword } from \"@/lib/auth\"\nimport { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { email, password } = await request.json()\n\n    if (!email || !password) {\n      return NextResponse.json({ message: \"Email y contraseña son requeridos\" }, { status: 400 })\n    }\n\n    // Find admin by email\n    const admin = await prisma.admin.findUnique({\n      where: { email },\n    })\n\n    if (!admin) {\n      return NextResponse.json({ message: \"Email o contraseña incorrectos\" }, { status: 401 })\n    }\n\n    // Verify password\n    const isPasswordValid = await verifyPassword(password, admin.password)\n\n    if (!isPasswordValid) {\n      return NextResponse.json({ message: \"Email o contraseña incorrectos\" }, { status: 401 })\n    }\n\n    // Return success with token (in production, use JWT)\n    return NextResponse.json({\n      token: Buffer.from(`${email}:${Date.now()}`).toString(\"base64\"),\n      name: admin.name,\n      email: admin.email,\n    })\n  } catch (error) {\n    console.error(\"Login error:\", error)\n    return NextResponse.json({ message: \"Error interno del servidor\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE9C,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAoC,GAAG;gBAAE,QAAQ;YAAI;QAC3F;QAEA,sBAAsB;QACtB,MAAM,QAAQ,MAAM,qHAAM,CAAC,KAAK,CAAC,UAAU,CAAC;YAC1C,OAAO;gBAAE;YAAM;QACjB;QAEA,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAiC,GAAG;gBAAE,QAAQ;YAAI;QACxF;QAEA,kBAAkB;QAClB,MAAM,kBAAkB,MAAM,IAAA,+HAAc,EAAC,UAAU,MAAM,QAAQ;QAErE,IAAI,CAAC,iBAAiB;YACpB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAiC,GAAG;gBAAE,QAAQ;YAAI;QACxF;QAEA,qDAAqD;QACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO,OAAO,IAAI,CAAC,GAAG,MAAM,CAAC,EAAE,KAAK,GAAG,IAAI,EAAE,QAAQ,CAAC;YACtD,MAAM,MAAM,IAAI;YAChB,OAAO,MAAM,KAAK;QACpB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA6B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACF"}}]
}